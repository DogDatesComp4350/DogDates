name: Manual Dispatch Tests

on: 
  [workflow_dispatch]
  
jobs:
  build-frontend:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Build Frontend
      run: | 
        cd frontend
        npm ci
        npm run build
        
  test-frontend:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Test Frontend
      run: | 
        cd frontend
        npm ci
        npm test
        
  test-backend:
    runs-on: ubuntu-latest
    environment: APP_ENV
    steps:
    - uses: actions/checkout@v2
    - name: Test Backend
      run: | 
        cd backend
        npm install
        npm test
